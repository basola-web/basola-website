---
interface KPI {
  icon: string;
  alt: string;
  title: string;
  heading: string;
  description: string;
  value: string;
}

import BlurImage from './BlurImage';
const { lang = 'de' } = Astro.props;

const contentMap: Record<
  string,
  {
    heading: string;
    intro: string;
    kpis: KPI[];
    quote: { text: string; name: string; role: string };
  }
> = {
  de: {
    heading: 'Impact in Ladrilleros',
    intro:
      'Ladrilleros liegt im Nationalpark Uramba, etwa eine Stunde per Boot von Buenaventura entfernt, an Kolumbiens Pazifikküste. Die Gemeinde mit rund 900 Einwohner*innen produziert allein durch Haushaltsabfälle täglich über 100 kg Plastik. Zusätzlich spülen die Flüsse <strong>Río Cauca</strong>, <strong>Río Cali</strong> und <strong>Río Atrato</strong> große Mengen Müll an die Küste. Um die Natur zu schützen, sammeln Bewohner*innen Plastik vom Strand. Da es jedoch keine Entsorgungssysteme gibt und sich der Rücktransport oft nicht lohnt, wird der Abfall verbrannt. In der Tourismussaison verschärft sich das Problem. Gleichzeitig ist Treibstoff extrem teuer, da fast alles per Boot von Buenaventura geliefert werden muss – während nahezu jede*r im Dorf ein Boot besitzt. Elektrische Alternativen fehlen.<br /><br />Unser Projekt bringt eine lokale Lösung für zwei Probleme: Umweltverschmutzung und Energiezugang.',
    kpis: [
      {
        icon: '/assets/icons/sdg12.png',
        alt: 'SDG 12',
        title: 'SDG 12',
        heading: 'Plastikreduktion pro Tag',
        description: 'durch Recycling & Strandreinigung',
        value: '80 kg',
      },
      {
        icon: '/assets/icons/sdg13.png',
        alt: 'SDG 13',
        title: 'SDG 13',
        heading: 'Messbarer Impact',
        description: 'Abfallreduktion & CO₂-Einsparung',
        value: '2,3 t CO₂ pro t Plastikmüll',
      },
      {
        icon: '/assets/icons/sdg8.png',
        alt: 'SDG 8',
        title: 'SDG 8',
        heading: 'Lokale Arbeitsplätze',
        description: 'Vollzeit bei doppeltem Mindestlohn',
        value: '2 Jobs',
      },
      {
        icon: '/assets/icons/sdg8.png',
        alt: 'SDG 8',
        title: 'SDG 8',
        heading: 'Wirtschaftlich tragfähig',
        description: 'Positiver Business Case in dezentralen Setups',
        value: '<1,00 € /L',
      },
    ],
    quote: {
      text:
        '„Mit einer Anlage zur Umwandlung von Plastikmüll in Kraftstoff könnte unsere Gemeinschaft das Müllproblem in den Küstenregionen und den Gemeinden lösen. So könnten alle Menschen ihren Abfall bringen, um ihn umzuwandeln, und wenn möglich, nach der Umwandlung diesen Kraftstoff nutzen…“',
      name: 'Olber Grueso',
      role: 'Bewohner & Unternehmer in Ladrilleros',
    },
  },
  en: {
    heading: 'Impact in Ladrilleros',
    intro:
      "Ladrilleros sits in Uramba National Park about an hour by boat from Buenaventura on Colombia’s Pacific coast. The community of roughly 900 residents generates over 100 kg of plastic daily from household waste alone. In addition, the rivers <strong>Río Cauca</strong>, <strong>Río Cali</strong> and <strong>Río Atrato</strong> wash large amounts of trash onto the shore. To protect nature, residents collect plastic from the beach. With no disposal system and little incentive to ship it back, the waste is burned. Tourism season worsens the problem. At the same time, fuel is extremely expensive since nearly everything must be brought by boat from Buenaventura, while almost everyone in the village owns a boat. Electric alternatives are missing.<br /><br />Our project delivers a local solution to two problems: pollution and access to energy.",
    kpis: [
      {
        icon: '/assets/icons/sdg12.png',
        alt: 'SDG 12',
        title: 'SDG 12',
        heading: 'Plastic reduction per day',
        description: 'through recycling & beach cleanup',
        value: '80 kg',
      },
      {
        icon: '/assets/icons/sdg13.png',
        alt: 'SDG 13',
        title: 'SDG 13',
        heading: 'Measurable impact',
        description: 'Waste reduction & CO₂ savings',
        value: '2.3 t CO₂ per t plastic waste',
      },
      {
        icon: '/assets/icons/sdg8.png',
        alt: 'SDG 8',
        title: 'SDG 8',
        heading: 'Local jobs',
        description: 'Full-time at double minimum wage',
        value: '2 jobs',
      },
      {
        icon: '/assets/icons/sdg8.png',
        alt: 'SDG 8',
        title: 'SDG 8',
        heading: 'Economically viable',
        description: 'Positive business case in decentralized setups',
        value: '<€1.00 /L',
      },
    ],
    quote: {
      text:
        '“With a facility to convert plastic waste into fuel, our community could solve the waste problem in the coastal regions and villages. People could bring their trash to be transformed and, if possible, use the fuel afterwards…”',
      name: 'Olber Grueso',
      role: 'Resident & entrepreneur in Ladrilleros',
    },
  },
  es: {
    heading: 'Impacto en Ladrilleros',
    intro:
      'Ladrilleros se encuentra en el Parque Nacional Uramba, aproximadamente a una hora en barco de Buenaventura en la costa pacífica de Colombia. La comunidad de unos 900 habitantes genera más de 100 kg de plástico al día solo con los residuos domésticos. Además, los ríos <strong>Río Cauca</strong>, <strong>Río Cali</strong> y <strong>Río Atrato</strong> arrastran grandes cantidades de basura a la costa. Para proteger la naturaleza, los residentes recogen plástico de la playa. Sin un sistema de eliminación y con poco incentivo para transportarlo de vuelta, los residuos se queman. En la temporada turística el problema se agrava. Al mismo tiempo, el combustible es extremadamente caro, ya que casi todo debe transportarse en barco desde Buenaventura, mientras que casi todos en el pueblo poseen una embarcación. Faltan alternativas eléctricas.<br /><br />Nuestro proyecto ofrece una solución local a dos problemas: la contaminación y el acceso a energía.',
    kpis: [
      {
        icon: '/assets/icons/sdg12.png',
        alt: 'SDG 12',
        title: 'SDG 12',
        heading: 'Reducción de plástico por día',
        description: 'mediante reciclaje y limpieza de playas',
        value: '80 kg',
      },
      {
        icon: '/assets/icons/sdg13.png',
        alt: 'SDG 13',
        title: 'SDG 13',
        heading: 'Impacto medible',
        description: 'Reducción de residuos y ahorro de CO₂',
        value: '2,3 t CO₂ por t de residuos plásticos',
      },
      {
        icon: '/assets/icons/sdg8.png',
        alt: 'SDG 8',
        title: 'SDG 8',
        heading: 'Empleo local',
        description: 'Tiempo completo al doble del salario mínimo',
        value: '2 puestos',
      },
      {
        icon: '/assets/icons/sdg8.png',
        alt: 'SDG 8',
        title: 'SDG 8',
        heading: 'Económicamente viable',
        description: 'Caso de negocio positivo en configuraciones descentralizadas',
        value: '<1,00 € /L',
      },
    ],
    quote: {
      text:
        '“Con una planta que convierta los residuos plásticos en combustible, nuestra comunidad podría resolver el problema de la basura en las regiones costeras y los pueblos. La gente podría traer su basura para transformarla y, si es posible, utilizar ese combustible después…”',
      name: 'Olber Grueso',
      role: 'Habitante y emprendedor en Ladrilleros',
    },
  },
};

const content = contentMap[lang] ?? contentMap.en;
---

<section id="impact" class="relative py-16 overflow-hidden">
  <div class="absolute inset-0 bg-[url('/assets/Ladrilleros.png')] bg-cover bg-[position:60%] opacity-20 pointer-events-none"></div>
  <div class="absolute inset-0 bg-[#FFB703]/20"></div>
  <div class="relative mx-auto max-w-6xl px-6">
    <header class="mb-8 text-center">
      <h2 class="text-3xl md:text-4xl font-extrabold text-basola-brown">{content.heading}</h2>
    </header>

    <p class="mx-auto max-w-4xl text-basola-brown/80" set:html={content.intro}></p>

    <div class="mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-4">
      {content.kpis.map((k) => (
        <div
          class="rounded-2xl bg-[#F7F6F3] ring-1 ring-black/5 p-6 flex flex-col"
          data-anim
        >
          <div class="flex items-center gap-3 mb-4">
            <img src={k.icon} alt={k.alt} title={k.title} class="h-10 w-10" loading="lazy" />
            <h3 class="text-basola-brown font-semibold">{k.heading}</h3>
          </div>
          <p class="text-sm text-basola-brown/80 flex-1">{k.description}</p>
          <div class="mt-4 text-basola-yellow font-extrabold">{k.value}</div>
        </div>
      ))}
    </div>

    <div
      class="mt-16 flex flex-col items-center md:flex-row md:items-center md:space-x-8"
      data-anim
    >
      <BlurImage
        client:load
        src="/assets/Team/Olber.png"
        alt="Olber Grueso"
        hash="UCF;yQ%KP2KJrWRkw|-U0mRo+$=y~St2Xkoy"
        width={664}
        height={796}
        className="mb-6 md:mb-0 mx-auto"
        imgClassName="w-full h-full object-cover"
        style={{ maxWidth: '150px', borderRadius: '9999px' }}
      />
      <div class="text-center md:text-left max-w-xl">
        <p class="italic text-basola-brown/90">{content.quote.text}</p>
        <p class="mt-4 font-semibold text-basola-brown">{content.quote.name}</p>
        <p class="text-sm text-basola-brown/70">{content.quote.role}</p>
      </div>
    </div>
  </div>
</section>
