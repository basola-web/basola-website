---
const { heading, groups } = Astro.props;
---
<section id="team" class="py-16 text-secondary">
  <div class="max-w-6xl mx-auto px-4 text-center">
    <h2 class="text-3xl font-bold mb-8">{heading}</h2>
    <div class="mb-4 flex justify-center gap-4">
      {Object.keys(groups).map(g => <button class="tab px-4 py-2 border" data-tab={g}>{g}</button>)}
    </div>
    {Object.entries(groups).map(([key, members]) => (
      <div id={key} class={`grid md:grid-cols-3 gap-6 ${key==='team' ? '' : 'hidden'}`}>
        {members.map(m => (
          <div class="text-center">
            <img src={m.img} alt={m.name} class="w-24 h-24 object-cover rounded-full mx-auto" loading="lazy" />
            <div class="font-bold mt-2">{m.name}</div>
            <div class="text-sm">{m.role}</div>
          </div>
        ))}
      </div>
    ))}
  </div>
</section>
<script is:client>
  const buttons=document.querySelectorAll('.tab');
  const panels=document.querySelectorAll('#team > div[id]');
  buttons.forEach(btn=>btn.addEventListener('click',()=>{
    panels.forEach(p=>p.classList.add('hidden'));
    document.getElementById(btn.dataset.tab)?.classList.remove('hidden');
  }));
</script>
