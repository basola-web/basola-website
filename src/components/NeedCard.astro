---
interface Props {
  title: string;
  variant?: 'burn' | 'dump' | 'fuel';
  counterTarget?: number;
}
const { title, variant = 'burn', counterTarget } = Astro.props as Props;
---
<article
  class="relative rounded-2xl border border-neutral-200 bg-white shadow-sm p-6 transition-transform hover:-translate-y-0.5"
  data-need-reveal
>
  <div class="flex items-start gap-3">
    <div class="p-2 rounded-full bg-primary/10 text-primary">
      <slot name="icon" />
    </div>
    <h3 class="text-xl font-semibold text-basola-brown flex-1">{title}</h3>
    {counterTarget !== undefined ? (
      <span
        class="ml-auto text-xs font-medium text-basola-brown bg-amber-100 border border-amber-200 px-2 py-0.5 rounded-full tabular-nums"
        aria-label={`bis zu ${counterTarget} Prozent mehr`}
      >
        +<span data-counter data-target={counterTarget} class="inline-block min-w-[3ch]">0</span>%
      </span>
    ) : null}
  </div>
  <div class="mt-2 text-basola-brown/80 space-y-2">
    <slot />
  </div>
  {variant === 'burn' ? (
    <svg
      class="pointer-events-none absolute -top-4 right-4 w-20 h-20 text-basola-brown/20 animate-[float_12s_ease-in-out_infinite] motion-reduce:animate-none"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      aria-hidden="true"
    >
      <path d="M5 22c2-3 2-5 0-8" />
      <path d="M12 22c2-3 2-5 0-8" />
      <path d="M19 22c2-3 2-5 0-8" />
    </svg>
  ) : null}
</article>

<style is:global>
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
</style>
