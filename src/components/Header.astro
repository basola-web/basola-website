---
import { getRelativeLocaleUrl } from 'astro:i18n';
const { lang, t } = Astro.props;
const other = lang === 'de' ? 'en' : 'de';
let switchUrl = other === 'de' ? '/de/' : '/';
try {
  switchUrl = getRelativeLocaleUrl(Astro.url, other) + Astro.url.hash;
} catch {}
---
<header class="sticky top-0 bg-white/80 backdrop-blur z-50">
  <div class="max-w-6xl mx-auto flex items-center justify-between p-4">
    <a href={lang === 'de' ? '/de/' : '/'} class="text-2xl font-bold text-secondary">BASOLA</a>
    <button id="menu-btn" class="md:hidden text-secondary">â˜°</button>
    <nav id="menu" class="hidden md:flex gap-4 text-secondary">
      <a href="#problem" class="hover:text-primary">{t.nav.problem}</a>
      <a href="#solution" class="hover:text-primary">{t.nav.solution}</a>
      <a href="#impact" class="hover:text-primary">{t.nav.impact}</a>
      <a href="#team" class="hover:text-primary">{t.nav.team}</a>
      <a href="#contact" class="hover:text-primary">{t.nav.contact}</a>
      <a href={switchUrl} class="font-bold hover:text-primary">{other.toUpperCase()}</a>
    </nav>
  </div>
  <script is:client>
    const btn = document.getElementById('menu-btn');
    const menu = document.getElementById('menu');
    btn?.addEventListener('click', () => menu.classList.toggle('hidden'));
  </script>
</header>
