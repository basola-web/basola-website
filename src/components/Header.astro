---
import { getRelativeLocaleUrl } from 'astro:i18n';
const { lang } = Astro.props;
const labels = {
  problem: { en: 'Problem', de: 'Problem' },
  solution: { en: 'Solution', de: 'Lösung' },
  impact: { en: 'Impact', de: 'Wirkung' },
  team: { en: 'Team', de: 'Team' },
  contact: { en: 'Contact', de: 'Kontakt' },
};
const switchLocale = lang === 'en' ? 'de' : 'en';
const switchUrl = getRelativeLocaleUrl(Astro.url, switchLocale);
const items = ['problem','solution','impact','team','contact'];
---
<header class="sticky top-0 bg-white/90 backdrop-blur z-50">
  <div class="max-w-6xl mx-auto flex items-center justify-between p-4">
    <a href={lang === 'en' ? '/' : '/de/'} class="text-2xl font-bold text-secondary">BASOLA</a>
    <nav class="hidden md:flex gap-6">
      {items.map(id => <a href={`#${id}`} class="hover:text-primary">{labels[id][lang]}</a>)}
      <a href={switchUrl} class="font-semibold">{switchLocale.toUpperCase()}</a>
    </nav>
    <button id="menu-btn" class="md:hidden" aria-label="Menu">☰</button>
  </div>
  <div id="mobile-menu" class="hidden flex-col md:hidden bg-white/90 px-4 pb-4">
    {items.map(id => <a href={`#${id}`} class="py-2 border-b border-secondary/10">{labels[id][lang]}</a>)}
    <a href={switchUrl} class="py-2">{switchLocale.toUpperCase()}</a>
  </div>
  <script is:client>
    document.getElementById('menu-btn').addEventListener('click', () => {
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });
  </script>
</header>
