---
import { getRelativeLocaleUrl } from 'astro:i18n';
const nav = Astro.props.t.nav;
const current = Astro.currentLocale;
---
<header class="sticky top-0 z-50 bg-white/85 backdrop-blur supports-[backdrop-filter]:bg-white/60">
  <div class="max-w-7xl mx-auto flex items-center justify-between p-4">
  <a href={getRelativeLocaleUrl(current)} class="text-2xl font-bold text-secondary">
    <img src="/assets/basola_logo.png" alt="BASOLA logo" class="h-8" />
  </a>
    <button id="menu-toggle" class="md:hidden text-secondary">â˜°</button>
    <nav id="menu" class="hidden md:flex space-x-4 text-secondary">
      <!-- Link to solution section -->
      <a href="#problem" class="hover:text-primary">{nav.problem}</a>
      <a href="#loesung" class="hover:text-primary">{nav.solution}</a>
      <a href="#impact" class="hover:text-primary">{nav.impact}</a>
      <a href="#team" class="hover:text-primary">{nav.team}</a>
      <a href="#contact" class="text-basola-brown font-semibold hover:text-primary">{nav.contact}</a>
    </nav>
    <div class="ml-4 text-secondary">
      {current === 'de' ? (
        <>
          <span class="font-bold">de</span> |
          <a href={getRelativeLocaleUrl('en')} class="hover:text-primary">en</a> |
          <a href={getRelativeLocaleUrl('es')} class="hover:text-primary">es</a>
        </>
      ) : current === 'en' ? (
        <>
          <a href={getRelativeLocaleUrl('de')} class="hover:text-primary">de</a> |
          <span class="font-bold">en</span> |
          <a href={getRelativeLocaleUrl('es')} class="hover:text-primary">es</a>
        </>
      ) : (
        <>
          <a href={getRelativeLocaleUrl('de')} class="hover:text-primary">de</a> |
          <a href={getRelativeLocaleUrl('en')} class="hover:text-primary">en</a> |
          <span class="font-bold">es</span>
        </>
      )}
    </div>
  </div>
</header>
<script is:client>
  const btn = document.getElementById('menu-toggle');
  const menu = document.getElementById('menu');
  btn?.addEventListener('click', () => menu?.classList.toggle('hidden'));
</script>
